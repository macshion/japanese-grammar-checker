console.log("Japanese Grammar Checker content script loaded");window.japaneseGrammarCheckerLoaded=!0;chrome.runtime.onMessage.addListener((e,o,t)=>{if(e.action==="checkText"){const r=window.getSelection().toString();return t(r?{text:r}:{error:"No text selected"}),!0}else{if(e.action==="updateSelectedText")return chrome.storage.local.set({selectedText:e.text},()=>{chrome.runtime.sendMessage({action:"updateSidebarText",text:e.text},r=>{chrome.runtime.lastError&&console.log("Sidebar not ready, text saved to storage")})}),t({success:!0}),!0;if(e.action==="ping")return t({pong:!0}),!0}});
